<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBU | Ultimate Supreme Legacy ERP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@400;900&display=swap');
        body { font-family: 'Inter', sans-serif; background: #010409; color: white; overflow-x: hidden; }
        .mbu-gold { background: linear-gradient(135deg, #b45309 0%, #78350f 100%); }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1); }
        input, select, textarea { color: black !important; font-weight: bold; background: white !important; width: 100%; padding: 12px; border-radius: 12px; margin-top: 5px; }
        label { font-size: 10px; font-weight: 900; color: #fbbf24; text-transform: uppercase; }
        .degree-box { border: 20px double #b45309; padding: 50px; background: white; color: black; position: relative; min-height: 900px; text-align: center; }
        .receipt-box { background: white; color: black; padding: 40px; border: 2px solid #ddd; position: relative; }
        @media print { .no-print { display: none !important; } .print-area { display: block !important; } }
    </style>
</head>
<body>

    <div id="landing" class="min-h-screen flex flex-col items-center justify-center p-6 no-print">
        <h1 class="text-7xl font-black text-amber-500 italic mb-2">MBU SUPREME</h1>
        <p class="text-gray-500 tracking-[0.4em] text-[10px] mb-12 uppercase font-black">UGC & Medical Council Compliant Legacy System</p>
        
        <div class="glass p-10 rounded-[3rem] w-full max-w-md border-t-8 border-amber-600 shadow-2xl">
            <h2 id="logLabel" class="text-2xl font-black mb-6 text-center italic">CHANCELLOR ACCESS</h2>
            <div class="space-y-4">
                <input id="uid" type="text" placeholder="Access ID">
                <input id="upin" type="password" placeholder="Security PIN">
                <button onclick="login()" class="w-full mbu-gold py-5 rounded-2xl font-black uppercase text-lg">Secure Login</button>
            </div>
            <div class="flex justify-between mt-8 text-[9px] font-black text-gray-500 uppercase">
                <span onclick="setRole('Chancellor')" class="cursor-pointer hover:text-red-500">Chancellor</span>
                <span onclick="setRole('College')" class="cursor-pointer hover:text-blue-500">College</span>
                <span onclick="setRole('Student')" class="cursor-pointer hover:text-green-500">Student</span>
            </div>
        </div>
        <button onclick="showAffilation()" class="mt-10 text-amber-600 font-black uppercase text-xs border-b-2 border-amber-600 pb-1">New College Affiliation (Medical/General)</button>
    </div>

    <div id="dashboard" class="hidden min-h-screen flex">
        <aside class="w-80 bg-black border-r border-white/10 p-8 no-print">
            <h2 id="roleTitle" class="text-amber-500 font-black italic mb-12 text-2xl uppercase">MBU ERP</h2>
            <nav id="sidebar" class="space-y-3"></nav>
            <button onclick="location.reload()" class="mt-20 text-red-600 font-black text-xs uppercase italic w-full text-left">Logout</button>
        </aside>
        <main id="content" class="flex-1 p-12 overflow-y-auto"></main>
    </div>

    <script>
        let userRole = "Chancellor";
        let db = {
            students: [{
                id: "MBU-BMRIT-786", name: "Rahul Singh", course: "B.Sc Radiology (BMRIT)", 
                college: "MBU Medical Campus", intern: "12 Months Completed", 
                reg: "MBU/RAD/2026/01", marks: 85, admDate: "2022-07-10", degDate: "2026-01-03", 
                batch: "2022-26", feePaid: "1,20,000", feeTx: "TXN-MBU-786"
            }]
        };

        function setRole(r) { userRole = r; document.getElementById('logLabel').innerText = r.toUpperCase() + " ACCESS"; }
        
        function login() {
            document.getElementById('landing').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            renderDashboard();
        }

        function renderDashboard() {
            const side = document.getElementById('sidebar');
            document.getElementById('roleTitle').innerText = "MBU " + userRole;
            if(userRole === 'Chancellor') {
                side.innerHTML = `
                    <button onclick="chanMaster()" class="w-full text-left p-4 hover:bg-white/5 rounded-2xl text-xs font-black text-red-500 uppercase">God Mode (Back-date Entry)</button>
                    <button onclick="chanFeeControl()" class="w-full text-left p-4 hover:bg-white/5 rounded-2xl text-xs font-black uppercase text-green-500">Manual Fee Generation</button>
                    <button onclick="chanAffReview()" class="w-full text-left p-4 hover:bg-white/5 rounded-2xl text-xs font-black uppercase">Affiliation Requests</button>`;
                chanMaster();
            } else if(userRole === 'College') {
                side.innerHTML = `<button onclick="colAdm()" class="w-full text-left p-4 hover:bg-white/5 rounded-2xl text-xs font-black uppercase text-blue-400">+ New Admission</button>`;
                colAdm();
            } else { studentPortal(); }
        }

        // --- CHANCELLOR: GOD MODE & FEES ---
        function chanMaster() {
            let trs = db.students.map((s, i) => `<tr class="border-b border-white/5 text-xs font-black uppercase">
                <td>${s.name}</td><td class="text-amber-500">${s.id}</td><td>${s.course}</td>
                <td><button onclick="override(${i})" class="bg-white text-black px-4 py-1 rounded-full text-[9px]">EDIT ALL</button></td></tr>`).join('');
            document.getElementById('content').innerHTML = `<h2 class="text-3xl font-black mb-8 italic text-red-600 uppercase">Supreme Override</h2><div class="glass p-8 rounded-[3rem]"><table class="w-full text-left"><thead><tr><th>Name</th><th>Enrollment</th><th>Course</th><th>Action</th></tr></thead><tbody>${trs}</tbody></table></div>`;
        }

        function override(i) {
            let s = db.students[i];
            document.getElementById('content').innerHTML = `<div class="glass p-10 rounded-[3rem] max-w-4xl mx-auto"><h2 class="text-2xl font-black mb-8 italic text-red-500 uppercase">Override Record</h2>
                <div class="grid grid-cols-2 gap-4">
                    <div><label>Name</label><input id="on" value="${s.name}"></div><div><label>Enrollment</label><input id="oi" value="${s.id}"></div>
                    <div><label>Back-date Adm</label><input id="oad" type="date" value="${s.admDate}"></div><div><label>Back-date Degree</label><input id="odd" type="date" value="${s.degDate}"></div>
                    <div><label>Course</label><select id="oc"><option>B.Sc Radiology (BMRIT)</option><option>B.Sc Nursing</option></select></div><div><label>Manual Marks %</label><input id="om" value="${s.marks}"></div>
                </div><button onclick="alert('Database Overridden!'); chanMaster();" class="w-full mbu-gold p-5 rounded-2xl font-black mt-8 text-white uppercase shadow-2xl">Confirm Sync</button></div>`;
        }

        function chanFeeControl() {
            document.getElementById('content').innerHTML = `<div class="glass p-10 rounded-[3rem] max-w-2xl mx-auto"><h2 class="text-2xl font-black mb-8 italic uppercase">Manual Fee Receipt Generator</h2>
                <div class="space-y-4"><input placeholder="Student ID"><input placeholder="Fee Amount (e.g. 55000)"><input type="date"><button onclick="alert('Receipt Generated!');" class="w-full mbu-gold p-4 rounded-xl font-black uppercase">Create Official Receipt</button></div></div>`;
        }

        // --- STUDENT PORTAL: ALL DOCUMENTS ---
        function studentPortal(s = db.students[0]) {
            document.getElementById('content').innerHTML = `
                <div class="max-w-5xl mx-auto space-y-6">
                    <div class="glass p-10 rounded-[3rem] border-l-[10px] border-amber-600 flex justify-between items-center">
                        <div><h2 class="text-4xl font-black uppercase italic">${s.name}</h2><p class="text-amber-500 font-bold text-xs uppercase">${s.course}</p></div>
                        <div class="text-right text-[10px] font-black uppercase text-gray-500"><p>ID: ${s.id}</p><p>REG: ${s.reg}</p></div>
                    </div>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 no-print">
                        <button onclick="draw('ID')" class="glass p-5 rounded-2xl text-[9px] font-black uppercase"><i class="fas fa-id-card block mb-2 text-xl text-blue-500"></i> ID Card</button>
                        <button onclick="draw('Intern')" class="glass p-5 rounded-2xl text-[9px] font-black uppercase text-red-500"><i class="fas fa-hospital-user block mb-2 text-xl"></i> 1-Yr Intern Letter</button>
                        <button onclick="draw('Degree')" class="glass p-5 rounded-2xl text-[9px] font-black uppercase text-yellow-500"><i class="fas fa-award block mb-2 text-xl"></i> Final Degree</button>
                        <button onclick="draw('Fee')" class="glass p-5 rounded-2xl text-[9px] font-black uppercase text-green-500"><i class="fas fa-receipt block mb-2 text-xl"></i> Fee Receipt</button>
                    </div>
                    <div id="printZone" class="min-h-[600px] flex items-center justify-center italic text-gray-500">Ready to Generate Official Documents</div>
                </div>`;
        }

        function draw(t) {
            const s = db.students[0]; const area = document.getElementById('printZone');
            if(t === 'Degree') {
                area.innerHTML = `<div class="degree-box print-area shadow-2xl scale-95"><h1 class="text-4xl font-serif font-black uppercase mb-2">Mansingh & Brothers University</h1><p class="text-[9px] font-bold uppercase tracking-[0.3em] mb-16 italic">Established under UGC Act 1956 & Council Recognized</p>
                    <div class="py-12"><p class="text-xl italic font-serif">The Academic Council confers upon</p><h2 class="text-5xl font-black my-6 uppercase border-b-2 border-black inline-block px-12">${s.name}</h2><p class="text-xl italic font-serif">the degree of</p><h3 class="text-4xl font-black mt-4 uppercase">${s.course}</h3><p class="mt-8 text-sm font-bold uppercase">Completion of 4-Year Curriculum including 12-Month Radiology Internship.</p></div>
                    <div class="flex justify-between items-end mt-24 border-t-2 border-black pt-10"><div class="text-left font-black"><p class="text-[9px] text-gray-400 uppercase">COUNCIL REG NO.</p><p class="text-2xl">${s.reg}</p></div><div id="qrd"></div><div class="text-right font-serif text-3xl italic">Mansingh<br><span class="text-[10px] font-sans font-black uppercase tracking-widest">Chancellor</span></div></div></div><button onclick="window.print()" class="no-print mt-6 w-full mbu-gold p-4 rounded-xl font-black uppercase">Download Legal Degree</button>`;
                setTimeout(()=>new QRCode(document.getElementById("qrd"),{text:s.id,width:80,height:80}),100);
            } else if(t === 'Intern') {
                area.innerHTML = `<div class="bg-white p-10 text-black border-8 double border-blue-900 rounded-xl print-area">
                    <h2 class="text-center font-black text-2xl mb-12 uppercase italic border-b-2 border-black pb-4">Clinical Internship Certificate</h2>
                    <p class="text-xl leading-relaxed font-bold">This is to certify that <b>${s.name}</b> has successfully completed <b>ONE FULL YEAR (12 MONTHS)</b> of clinical training in <b>Radiology</b> at MBU Hospital. Completion: ${s.degDate}.</p>
                    <div class="mt-20 flex justify-between font-black italic border-t-2 border-black pt-6"><p>Medical Superintendent</p><p>Chancellor, MBU</p></div>
                </div><button onclick="window.print()" class="no-print mt-4 w-full mbu-gold p-3 rounded-xl font-black uppercase">Print Internship Letter</button>`;
            } else if(t === 'Fee') {
                area.innerHTML = `<div class="receipt-box print-area text-left shadow-xl">
                    <div class="flex justify-between border-b-2 border-black pb-4 mb-4"><h1 class="font-black text-xl uppercase">MBU FINANCE</h1><p class="text-xs font-bold uppercase">Receipt No: ${s.feeTx}</p></div>
                    <p class="font-bold">Student: ${s.name}</p><p class="font-bold">Amount Paid: â‚¹${s.feePaid}</p><p class="text-green-600 font-black mt-4 uppercase">Status: PAID (SUCCESSFUL)</p>
                    <div class="mt-8 flex justify-center" id="qrf"></div></div><button onclick="window.print()" class="no-print mt-4 w-full mbu-gold p-3 rounded-xl font-black uppercase">Download Fee Receipt</button>`;
                setTimeout(()=>new QRCode(document.getElementById("qrf"),{text:s.feeTx,width:60,height:60}),100);
            } else if(t === 'ID') {
                area.innerHTML = `<div class="w-72 mx-auto bg-white p-6 rounded-3xl text-black border-4 border-amber-600 print-area text-center shadow-2xl">
                    <h2 class="font-black text-amber-800 text-lg uppercase">MBU UNIVERSITY</h2><div class="w-20 h-20 bg-gray-200 mx-auto my-3 rounded-full flex items-center justify-center font-black text-2xl">${s.name[0]}</div>
                    <h3 class="text-xl font-black uppercase">${s.name}</h3><p class="text-[9px] font-bold text-gray-500 mb-4">${s.course}</p>
                    <div id="qri" class="flex justify-center mt-4"></div></div>`;
                setTimeout(()=>new QRCode(document.getElementById("qri"),{text:s.id,width:50,height:50}),100);
            }
        }

        function showAffilation() {
            document.getElementById('landing').innerHTML = `<div class="glass p-12 rounded-[3rem] w-full max-w-4xl">
                <h2 class="text-3xl font-black mb-8 italic text-amber-500 border-b border-white/10 pb-4 uppercase">College Affiliation Compliance Form</h2>
                <div class="grid grid-cols-2 gap-6">
                    <div><label>College Name</label><input></div><div><label>Trust Name</label><input></div>
                    <div><label>Hospital Tie-up (1-Yr Intern)</label><input></div><div><label>Bed Capacity</label><input type="number"></div>
                    <div><label>Radiology Lab Machines</label><input></div><div><label>Compliance Status</label><select><option>NMC/UGC Compliant</option></select></div>
                </div><button onclick="location.reload()" class="w-full mbu-gold p-5 rounded-2xl font-black mt-10 text-white uppercase shadow-2xl">Submit to Chancellor</button></div>`;
        }
        function colAdm() { document.getElementById('content').innerHTML = `<h2 class="text-3xl font-black mb-6 italic uppercase text-blue-500">Medical Admission Board</h2><div class="glass p-10 rounded-[3rem] grid grid-cols-2 gap-4"><input placeholder="Student Name"><input placeholder="Reg No"><button onclick="alert('Admission Registered!')" class="col-span-2 mbu-gold p-4 rounded-xl font-black uppercase">Confirm Admission</button></div>`; }
    </script>
</body>
</html>
