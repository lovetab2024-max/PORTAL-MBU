<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBU | University Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@400;900&display=swap');
        body { font-family: 'Inter', sans-serif; background: #020617; color: white; }
        .mbu-gold { background: linear-gradient(135deg, #b45309 0%, #78350f 100%); }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .degree-box { border: 15px double #b45309; background: white; color: black; padding: 50px; position: relative; }
        @media print { .no-print { display: none !important; } }
    </style>
</head>
<body>

    <div id="landingPage" class="min-h-screen flex flex-col items-center justify-center p-6 space-y-8">
        <div class="text-center">
            <i class="fas fa-university text-6xl text-amber-500 mb-4"></i>
            <h1 class="text-4xl font-black italic">MANSINGH & BROTHERS UNIVERSITY</h1>
            <p class="text-gray-400 mt-2 uppercase tracking-widest text-xs">Academic Excellence & Recognition</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-6xl">
            <div class="glass p-8 rounded-3xl border-t-4 border-amber-600 hover:bg-white/5 transition cursor-pointer" onclick="showSection('affiliationForm')">
                <i class="fas fa-file-signature text-amber-500 text-3xl mb-4"></i>
                <h3 class="font-black text-lg">College Affiliation</h3>
                <p class="text-[10px] text-gray-400 mt-2">New colleges can apply here without an account.</p>
            </div>
            <div class="glass p-8 rounded-3xl border-t-4 border-red-600 hover:bg-white/5 transition cursor-pointer" onclick="showSection('loginPanel', 'Chancellor')">
                <i class="fas fa-crown text-red-500 text-3xl mb-4"></i>
                <h3 class="font-black text-lg">Chancellor Login</h3>
                <p class="text-[10px] text-gray-400 mt-2">University Master Control Access.</p>
            </div>
            <div class="glass p-8 rounded-3xl border-t-4 border-blue-600 hover:bg-white/5 transition cursor-pointer" onclick="showSection('loginPanel', 'College')">
                <i class="fas fa-building-columns text-blue-500 text-3xl mb-4"></i>
                <h3 class="font-black text-lg">College Login</h3>
                <p class="text-[10px] text-gray-400 mt-2">For already affiliated institutions.</p>
            </div>
            <div class="glass p-8 rounded-3xl border-t-4 border-green-600 hover:bg-white/5 transition cursor-pointer" onclick="showSection('loginPanel', 'Student')">
                <i class="fas fa-user-graduate text-green-500 text-3xl mb-4"></i>
                <h3 class="font-black text-lg">Student Portal</h3>
                <p class="text-[10px] text-gray-400 mt-2">Download ID Card, Admit Card & Degree.</p>
            </div>
        </div>
    </div>

    <div id="affiliationForm" class="hidden min-h-screen p-10">
        <button onclick="goHome()" class="text-amber-500 font-black mb-8"><i class="fas fa-arrow-left mr-2"></i> Back to Home</button>
        <div class="max-w-2xl mx-auto glass p-10 rounded-[3rem]">
            <h2 class="text-3xl font-black italic mb-6">Affiliation Request Form</h2>
            <div class="space-y-4 text-black">
                <input type="text" id="req_name" placeholder="College Name" class="w-full p-4 rounded-xl outline-none">
                <input type="text" id="req_city" placeholder="City/State" class="w-full p-4 rounded-xl outline-none">
                <select id="req_course" class="w-full p-4 rounded-xl outline-none">
                    <option>B.Sc Nursing</option>
                    <option>BMRIT</option>
                </select>
                <input type="number" id="req_seats" placeholder="Intake Capacity (e.g. 60)" class="w-full p-4 rounded-xl outline-none">
                <button onclick="submitRequest()" class="w-full mbu-gold text-white p-5 rounded-xl font-black uppercase tracking-widest mt-4">Submit Application to MBU</button>
            </div>
        </div>
    </div>

    <div id="loginPanel" class="hidden min-h-screen flex items-center justify-center p-6">
        <div class="max-w-md w-full glass p-10 rounded-[3rem] text-center">
            <h2 id="loginTitle" class="text-2xl font-black italic mb-8"></h2>
            <div class="space-y-4">
                <input type="text" id="uid" placeholder="ID / Enrollment No" class="w-full p-4 bg-white/5 border border-white/10 rounded-xl outline-none font-bold">
                <input type="password" id="upass" placeholder="Password / PIN" class="w-full p-4 bg-white/5 border border-white/10 rounded-xl outline-none font-bold">
                <button onclick="handleMasterLogin()" class="w-full mbu-gold py-5 rounded-xl font-black uppercase tracking-widest mt-4">Enter Portal</button>
                <button onclick="goHome()" class="text-gray-500 text-xs mt-4">Go Back</button>
            </div>
        </div>
    </div>

    <div id="adminDash" class="hidden min-h-screen flex flex-col md:flex-row">
        <aside class="w-72 bg-black border-r border-white/10 p-6">
            <h2 class="text-amber-500 font-black italic mb-10">MBU MASTER</h2>
            <nav class="space-y-2">
                <button onclick="showRequests()" class="w-full text-left p-4 hover:bg-white/5 rounded-xl text-xs font-bold">Pending Requests</button>
                <button onclick="showStudentManagement()" class="w-full text-left p-4 hover:bg-white/5 rounded-xl text-xs font-bold">Student Records</button>
                <button onclick="location.reload()" class="text-red-500 p-4 text-[10px] font-black uppercase">Sign Out</button>
            </nav>
        </aside>
        <main id="adminContent" class="flex-1 p-10"></main>
    </div>

    <script>
        let db = { requests: [], students: [], activeLogin: '' };

        function showSection(id, type = '') {
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById(id).classList.remove('hidden');
            if(type) {
                db.activeLogin = type;
                document.getElementById('loginTitle').innerText = type + " Login";
            }
        }

        function goHome() {
            location.reload();
        }

        function submitRequest() {
            let req = {
                name: document.getElementById('req_name').value,
                city: document.getElementById('req_city').value,
                course: document.getElementById('req_course').value,
                seats: document.getElementById('req_seats').value,
                status: 'Pending'
            };
            db.requests.push(req);
            alert("Application Sent! University will review and generate your ID.");
            goHome();
        }

        function handleMasterLogin() {
            const u = document.getElementById('uid').value;
            const p = document.getElementById('upass').value;

            if(db.activeLogin === 'Chancellor' && u === "MBU_CHANCELLOR_01" && p === "MBU_SUPER_POWER_2026") {
                document.getElementById('loginPanel').classList.add('hidden');
                document.getElementById('adminDash').classList.remove('hidden');
                showRequests();
            } else {
                alert("Invalid Access!");
            }
        }

        function showRequests() {
            let html = db.requests.map((r, i) => `
                <div class="glass p-6 rounded-2xl flex justify-between items-center mb-4">
                    <div><h4 class="font-black text-lg">${r.name}</h4><p class="text-xs text-gray-400">${r.city} | ${r.course} (${r.seats} Seats)</p></div>
                    <button onclick="approveCollege(${i})" class="bg-green-600 px-6 py-2 rounded-lg font-black text-xs">APPROVE & GENERATE ID</button>
                </div>
            `).join('');
            document.getElementById('adminContent').innerHTML = `<h2 class="text-2xl font-black mb-8 italic">New Affiliation Applications</h2>` + (html || '<p class="text-gray-500">No pending requests.</p>');
        }

        function approveCollege(i) {
            let id = "MBU_COLG_" + Math.floor(100+Math.random()*900);
            let pass = "MBU_PASS_" + Math.floor(1000+Math.random()*9000);
            alert(`COLLEGE APPROVED!\n\nID: ${id}\nPassword: ${pass}\n\nCollege can now login and add students.`);
            db.requests.splice(i, 1);
            showRequests();
        }
    </script>
</body>
</html>
